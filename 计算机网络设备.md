## 计算机网络

## 1. 基础网络设备

1. 集线器（HUB）
   * 半双工通信
   * 容易冲突
   * 不安全
   * 没有智商，有数据报就全部转发
2. 网桥（Bridge）
   * 能够学习每个接口那侧的MAC地址
   * 两个口，每个口接一台集线器，可以起到同一侧的计算机设备发送的数据不会被转发到另外一侧（同侧计算机通信，不同测不就还是集线器了么？？）
3. 交换机
   * 全双工通信
   * 能够学习记录每个接口连接计算机的MAC地址，这样计算机之间通信时就不用将数据全部转发给每个计算机了（记录到双方mac地址时，如果首次通信，会通过ARP协议获取到目的计算机MAC地址，这时交换机就会记录下来双方MAC）
   * 同一网段通信
   * 全球通过交换机连接，每次通过ARP广播时，将会转发给全球的网络设备（IP地址也不够，因为要同一网段），产生广播风暴
4. 路由器
   * 可在不同网段之间转发数据
   * 假设两台机器不在同一网段，如果两台机器要通信，必须通过路由器，同时要给路由器分配网关，网关地址是两台机所在网络的 .1(比如计算机1的IP为 192.168.2.12，计算机2的IP地址为192.168.3.34，此时路由器网关地址分别为192.168.2.1，192.168.3.1)当计算机1第一次 ping 计算机 2 的 IP 地址时，是不知道计算机 2 的 mac地址的，因此需要发送一个ARP广播，此时因为计算机1知道计算机2 的 IP地址与自己不在同一网段（因为ping 时指定了计算机2的IP地址），因此，这个ARP广播目标IP设置为与自己同一网段的网关地址 192.168.2.1，并且目标MAC地址全为F来说明是ARP广播，此时路由器将192.168.2.1这个IP的MAC地址返回给计算机1，然后计算机1开始发送数据给计算机2，mac地址为路由器192.168.2.1这个 IP 的MAC地址，  此时路由器拿到数据包，发现目的IP为 192.168.3.34，然后通过给路由器设置的 192.168.3.1 这个网关，路由器通过这个网关再次发送一个ARP包（谁的地址是 192.168.3.34，你的MAC是多少？），此时计算机 2 将自己的mac地址返回给 192.168.3.1 这个网关。这样计算机1就能通过路由器将数据转发给不同网段的计算机2了。

## 2. 总结

​	要想访问互联网，必须通过路由器，因为互联网那么多 IP 地址，很多处在不同一网段，比如公司里的计算机，同一网段计算机通过交换机连接，交换机接路由器，这样，不同网段的计算机之间就能够相互通信了。同一网段通信通过交换机即可，比如大学电脑机房之间的电脑通信。