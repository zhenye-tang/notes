## 公钥合法性

1. 如果遭遇了中间人攻击，那么
   * 公钥将可能是伪造的
2. 如何验证公钥的合法性
   * 证书

## 证书

1. 由权威机构认证的

2. 密码学中的证书，全程叫公钥证书（Public-key Certificate, PKC）
   * 里面有姓名、邮箱等个人信息，以及此人的公钥、以及认证机构施加的签名
   * 并由认证机构（Certificate Authority, CA）施加数字签名

3. 证书 - 使用
   * 消息接收者生成密钥对
   * 将公钥交给认证机构
   * 认证机构使用自己的私钥对消息接收者的公钥施加数字签名，并生成证书
   * 消息发送者得到证书，然后使用认证机构的公钥验签，验签通过则证明公钥确实有效
   * 以上的目的是得到合法的公钥

## HTTPS

1. 超文本传输安全协议
2. https 是在 http 的基础上使用 ssl/tls 来加密报文，对窃听和中间人攻击提供合理的防护
3. tls/ssl 也可以用在其他协议上，比如：
   * ftp -> ftps (文件传输协议)
   * smtp -> smtps （邮件传输协议）
   * ws -> wss
4. openssl 是 ssl/tls 协议的开源实现，始于 1998 年
   * 生成密钥： openssl genrsa -out tzy.key
   * 生成公钥： openssl rsa -in tzy.key -pubout -out tzy.pem
   * 可以使用 openssl 构建一套属于自己的 CA，自己给自己颁发证书，称为 “自签名证书”。
5. 成本
   * 证书的费用
   * 加解密计算
   * 降低了访问速度
   * 有些企业的做法：包含敏感数据的请求才使用 https，其他保持使用 http

## tls 协议

